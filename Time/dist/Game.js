var Game;(function(f){var c=60;var e=90;var d=(function(){function g(h){this.stepObjects=new Array();this.renderObjects=new Array();window.addEventListener("resize",function(){h.width=h.clientWidth;h.height=h.clientHeight});this.canvas=h;this.keyboardController=new a();this.addStepObject(this.keyboardController)}g.prototype.addStepObject=function(h){this.stepObjects.push(h)};g.prototype.addRenderObject=function(h){this.renderObjects.push(h)};g.prototype.step=function(){this.stepObjects.forEach(function(h){return h.step()})};g.prototype.render=function(){var h=this.canvas.getContext("2d");h.clearRect(0,0,this.canvas.width,this.canvas.height);this.renderObjects.forEach(function(i){return i.render(h)})};g.prototype.start=function(){var h=this;this.renderToken=setInterval(function(){return h.render()},1000/c);this.stepToken=setInterval(function(){return h.step()},1000/e)};g.prototype.stop=function(){clearInterval(this.renderToken);clearInterval(this.stepToken)};g.prototype.addKeyListener=function(h,i){this.keyboardController.addListener(h,i)};return g})();f.GameView=d;var a=(function(){function g(){var h=this;this.pressedKeys=new Map();this.keyListeners=new Map();document.addEventListener("keydown",function(i){h.pressedKeys.set(i.keyCode,true)});document.addEventListener("keyup",function(i){h.pressedKeys.set(i.keyCode,false)})}g.prototype.step=function(){var h=this;this.keyListeners.forEach(function(j,i){if(h.pressedKeys.get(i)){h.keyListeners.get(i).forEach(function(k){return k()})}})};g.prototype.addListener=function(i,j){var h;if(this.keyListeners.has(i)){h=this.keyListeners.get(i)}else{h=[];this.keyListeners.set(i,h)}h.push(j)};return g})();(function(g){g[g.LEFT=37]="LEFT";g[g.UP=38]="UP";g[g.RIGHT=39]="RIGHT";g[g.DOWN=40]="DOWN"})(f.Keys||(f.Keys={}));var b=f.Keys})(Game||(Game={}));